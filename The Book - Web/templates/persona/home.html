{% extends "main_frame.html" %}

{% block headers %}
<link rel="stylesheet" href="{{ url_for('static', filename='style/persona/persona.css') }}" />
{% endblock %}

{% block title %}Persona{% endblock %}

{% block content %}
<main class="content-main">
    <h1>{{ persona_id }}</h1>
    <div class="chat-window" id="chat-window">
        <!-- Messages will be added dynamically -->
    </div>
    <form id="message-form">
        <label for="message">Message:</label>
        <input type="text" id="message" name="message">
        <button type="submit">Send</button>
    </form>

    <div class="episodes-list" id="episodes-list">
        <!-- Episodes will be added dynamically -->
    </div>
    
    <button id="load-episodes">Load Episodes</button>
</main>

<script type="module">
    import { registerListeners } from "{{ url_for('static', filename='js/persona/persona.js') }}";
    
    document.addEventListener('DOMContentLoaded', function() {
        registerListeners("{{ persona_id }}");
    });
</script>
{% endblock %}

